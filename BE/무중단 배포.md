# 무중단 배포 (Zero-Downtime Deployment)

무중단 배포는 **서비스에 다운 타임이 발생하지 않으면서** 새로운 버전의
애플리케이션을 서버에 배포하는 것을 의미합니다.

대표적인 배포 방식에는 **롤링 배포(Rolling Deployment)**, **블루/그린
배포(Blue/Green Deployment)**, **카나리 배포(Canary Deployment)** 가
있습니다.

## 🚀 롤링 배포 (Rolling Deployment)

- 서버를 **한 대씩 순차적으로 업데이트**하는 기본적인 방식입니다.
- 특정 시점에는 **두 가지 버전이 공존**하므로, **하위 호환성(Backward
  Compatibility)** 을 고려해야 합니다.
- 배포가 진행 중인 서버는 요청을 처리하지 못하므로, **다른 서버로
  트래픽이 몰릴 수 있습니다.**
- **새로운 서버를 생성하지 않으며**, 점진적인 배포에 적합합니다.

### ✅ 사용 시점

- 서버 인스턴스 추가 비용을 감당하기 어렵거나
- **일부 서버에서만 테스트 배포를 진행하며 안정성 확인 후 전체에
  적용**하고 싶을 때 사용합니다.

## 🟩 블루/그린 배포 (Blue/Green Deployment)

- **기존 서버(Blue)** 와 **신규 서버(Green)** 를 **동일한 스펙으로
  준비**합니다.
- 신규 버전에 배포 후, 트래픽을 Green 서버로 전환하고 Blue 서버를
  폐기합니다.
- **롤백이 매우 빠르며**, 트래픽 전환만으로 이전 상태로 복귀할 수
  있습니다.
- 하지만 **두 세트의 서버를 유지해야 하므로 비용이 증가**할 수
  있습니다.

### ✅ 사용 시점

- **대규모 업데이트**나 **핵심 서비스 변경** 시
- **안정적인 롤백이 필요한 경우** 선택합니다.

## 🐤 카나리 배포 (Canary Deployment)

- 기존 버전과 신규 버전을 함께 운영하면서, **일정 비율의 트래픽만 신규버전으로 전달**합니다.
- 예: 기존 서버 70%, 신규 서버 30%
- 트래픽 비율을 점진적으로 조정하여, 최종적으로 신규 서버가 100% 트래픽을 처리합니다.
- 롤링 배포와 마찬가지로 **두 버전이 공존하므로 하위 호환성**이 중요합니다.

### ✅ 사용 시점

- **오류율, 성능, 사용자 반응 등 통계적 검증**이 필요한 경우
- **A/B 테스트**나 **점진적 기능 배포(Feature Rollout)** 에 적합합니다.

## 📋 요약 비교

**롤링 배포**

- 서버를 별도 인프라 하위호환성 비용 절감형, 안정성
- 순차적으로 불필요, 필요, 일시적 확인형
- 교체 점진적 부하 증가

**블루/그린**

- 완전히 빠른 롤백, 인프라 비용 대규모 변경, 안정성 중시
- 새로운 서버 서비스 증가
- 세트로 전환 연속성

**카나리**

- 트래픽 통계 기반 설정 복잡, 성능 검증, 실험적 배포
- 일부만 신규 검증 가능, 두 버전 공존
- 버전으로 점진적 필요

### 💡 정리

- **롤링 배포**: 점진적, 비용 효율적
- **블루/그린 배포**: 안전하고 빠른 롤백
- **카나리 배포**: 트래픽 기반 실험 및 검증
