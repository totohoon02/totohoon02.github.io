# 📌 캐싱 전략(Caching Strategy)

캐싱은 **성능 향상**과 **부하 감소**를 위해 사용됩니다.  
캐시 사용 방식은 서비스 성능과 안정성에 직접적인 영향을 주므로, 적절한 전략 선택이 중요합니다.

---

## 1. Cache Aside (Lazy Loading)

### 🔹 동작 방식
1. **캐시 히트(Cache Hit)**  
   - 요청 데이터가 캐시에 존재하면 캐시에서 바로 반환.
2. **캐시 미스(Cache Miss)**  
   - 캐시에 없으면 DB에서 조회 후, 해당 데이터를 캐시에 저장.

### 🔹 장점
- 실제 요청된 데이터만 캐시에 저장 → 불필요한 메모리 사용 방지.
- 캐시 장애 시에도 DB에서 데이터 조회 가능.

### 🔹 단점
- 초기에는 **캐시 미스**로 인해 DB 부하가 증가할 수 있음.
- DB와 캐시 간 데이터 불일치 가능성 존재.

---

## 2. 캐시 불일치(Cache Inconsistency) 해소를 위한 쓰기 전략

### 2.1 Write Through
- **방식**: DB 변경 시, 캐시도 **동시에 갱신**.
- **장점**: 캐시가 항상 최신 상태 유지.
- **단점**: 쓰기 시 **2번의 작업(DB + 캐시)** 발생 → 쓰기 성능 저하 가능.
- **팁**: 무조건 갱신 대신, **만료 시간(TTL)**을 설정해 불필요한 갱신 방지.

### 2.2 Cache Invalidation
- **방식**: DB 변경 시, 해당 캐시 데이터를 **삭제(만료)**.
- **장점**: 불일치 문제 제거.
- **단점**: 다음 조회 시 캐시 미스로 인해 DB 부하 증가 가능.

### 2.3 Write Behind (Write Back)
- **방식**: 캐시를 먼저 갱신 후, 일정 주기/비동기로 DB에 반영.
- **장점**: 쓰기 성능 향상(비동기 처리).
- **단점**: DB와 캐시가 일시적으로 불일치할 수 있음 → 일시적 불일치 허용 가능한 서비스에 적합.
