# Network

## 개요

### 프로토콜

- 규약
- 데이터를 어떻게 전송할지 정의

### TCP/IP

- TCP
  - Transmission Control Protocol
  - 연결 지향적
  - 데이터를 어떻게 전송할지 정의
- IP
  - Internet Protocol
  - 연결 비지향적
  - 데이터를 어떻게 전송할지 정의

### TCP/IP 5 계층 모델 정리

#### 1. 물리 계층 (Physical)

- **역할**
  - 0·1 비트를 전기/광 신호로 변환·전송·수신
- **주요 요소**
  - 케이블(UTP, 광), 커넥터, 리피터, 허브, 전송 부호(NRZ, 8b/10b)
- **핵심 포인트**
  - 인코딩/디코딩
  - 감쇠·노이즈 관리
  - 대역폭·지연
  - 임피던스 매칭

#### 2. 데이터링크 계층 (Data Link)

- **역할**
  - 프레임 단위 전송
  - MAC 주소 기반 식별
  - 오류 검출/재전송
- **대표 프로토콜**
  - Ethernet(802.3), Wi-Fi(802.11), PPP, HDLC, **ARP**
- **핵심 포인트**
  - 프레이밍(Preamble, MAC Header, FCS)
  - CSMA/CD·CA
  - 스위치 MAC 테이블
  - STP/RSTP

#### 3. 네트워크 계층 (Network)

- **역할**
  - 패킷 라우팅
  - 논리 주소(IP) 관리
- **대표 프로토콜**
  - IPv4/IPv6, ICMP, OSPF, BGP, IPsec
- **핵심 포인트**
  - 라우팅(IGP/EGP)
  - 서브넷팅·CIDR
  - NAT
  - 오버레이(VXLAN)
  - Dual-Stack IPv6

#### 4. 트랜스포트 계층 (Transport)

- **역할**
  - 세그먼트/데이터그램 전송의 신뢰성·혼잡·순서 제어
- **대표 프로토콜**
  - TCP, UDP, QUIC, SCTP
- **핵심 포인트**
  - TCP 3-way handshake
  - 흐름·혼잡 제어(CUBIC/BBR)
  - 포트 번호
  - L4 로드밸런싱

#### 5. 애플리케이션 계층 (Application)

- **역할**
  - 사용자·프로세스가 직접 사용하는 서비스 프로토콜 제공
- **대표 프로토콜**
  - HTTP(S), FTP(S), SMTP/IMAP, DNS, SSH, MQTT, gRPC
- **핵심 포인트**
  - HTTP/1.1 → 2 → 3(QUIC)
  - TLS 종료
  - OAuth/OIDC
  - RPC(gRPC, GraphQL)
  - IoT용 MQTT/CoAP

### 계층 간 캡슐화 흐름

```text
Application
        ↓ +헤더 / 데이터그램
Transport
        ↓ +헤더 / 세그먼트
Network
        ↓ +헤더 / 패킷
Data Link
        ↓ +트레일러 +헤더 / 프레임
Physical (신호)
```

### 네트워크 토폴로지

- Bus 토폴로지
  - 모든 노드가 공유하는 데이터선
  - 한 노드에 장애가 발생해도 다른 노드는 정상적으로 작동
  - 한 회선을 공유, 트래픽 증가시 충돌 발생
- Star 토폴로지
  - 중앙에 허브/스위치
  - 장애 관리가 편함
  - 주 노드에 장애가 발생 시 전체 노드가 중단
- Ring 토폴로지
  - 데이터를 순환적으로 전송
  - 하나의 노드에 장애 발생 시 전체 네트워크에 영향
  - 노드 추가/삭제가 어려움
- Tree 토폴로지
  - 노드 추가/삭제가 쉽고 장애 관리 쉬움
  - 루트 노드에 장애 발생 시 전체 네트워크에 영향
- Mesh 토폴로지
  - 모든 노드가 서로 연결
  - 장애 관리 쉬움
  - 전체 연결을 위해 비용이 많이 듬

### 네트워크의 통신 방식

- 유니캐스트
  - 1:1로 데이터 전송
  - 각 노드에서 목적지 주소를 확인 후 자신에게 온 메시지만 처리
- 브로드캐스트
  - 1:N으로 데이터 전송
  - 목적지 주소를 확인하지 않음
  - 일단 받고 CPU에서 확인
- 멀티캐스트
  - 1:N으로 데이터 전송
  - 데이터를 받는 그룹을 만들어 해당 그룹에만 전송
- 애니캐스트
  - 가장 가까운 노드에 전송

### 통신 종류

- 단방향

  - 일방 전송, 라디오
  - 받았는지 알바아님

- 반이중

  - 한쪽에서 보내는 동안 받는 쪽은 보낼 수 없음, 무전기

- 전이중
  - 송신과 수신을 동시에, 전화기

## 물리계층과 데이터링크 계층

- 물리계층

  - 디지털 신호를 아날로그 신호로 변환(송신)
  - 아날로그 신호를 디지털 신호로 변환(수신)

- 데이터 링크 계층
  - 같은 네트워크에서 맥 주소를 이용해 목적지를 구분
  - 랜 카드
    - 프레임을 아날로그 데이터로 변환
    - 아날로그 데이터를 프레임으로 변환
    - MAC 주소를 통해 목적지를 구분
    - MAC 주소: 기기의 고유한 주소
