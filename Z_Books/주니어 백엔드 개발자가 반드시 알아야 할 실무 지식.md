# 실무 지식

### 처리량과 응답 시간

- 응답시간

  - 사용자의 요청처리에 걸리는 시간
  - 요청에서 응답까지
  - TCP 연결, 로직 실행을 포함
  - DB연동, 외부 API 연동이 큰 비중을 차지

- 처리량
  - 단위 시간당 시스템이 처리하는 작업량
  - 최대 TPS를 초과하면 지연이 발생한다.

> 트래픽이 많은 시간대의 TPS와 응답 시간이 얼마인지를 측정

### 서버 성능 개선 기초

- 병목 지점

  - 성능에 문제가 발생하는 포인트
  - 모니터링 도구를 이용해 실행 시간을 측정

- 수직확장과 수평확장

  - 수직확장(스케일 업)
    - 서버의 성능을 증가
    - 비용이 많이 듬
  - 수평확장(스케일 아웃)
    - 서버의 숫자를 증가
    - 트래픽을 분산

- DB 커넥션 풀

  - 서버에서 DB와 통신하기 위해 커넥션을 생성
  - 커넥션 생성 비용은 비싸다.
  - 커넥션을 미리 생성해 두고 재사용
  - HikariCP(Spring)
  - DB의 성능과 응답 시간을 고려
  - 처리 시간이 오래 걸릴 경우, 빠른 에러 응답으로 대기를 방지할 수 있다.

- 캐시

  - DB에 요청하는 대신 캐싱처리
  - 캐시에 선 조회, 없으면 DB에 요청
  - 인메모리나 외부에 저장
  - 적중률
    - 캐시 히트 / 캐시 미스

- 응답 데이터 압축

  - 데이터를 압축해 비용과 응답 시간을 절약

- 정적 자원과 브라우저 캐시

  - 동일한 파일을 계속 요청하지 않고 로컬 스토리지에 보관
  - CDN
    - 정적 자원을 별도의 네트워크에서 전송
    - 비지니스 로직과 정적 자원을 처리하는 서버를 분리
    - 사용자와 가까운 곳에 위치한 서버를 연결해 응답시간도 개선 가능

- 대기처리

### 성능을 좌우하는 DB 설계와 쿼리

- 성능의 핵심은 DB
  - 풀 스캔
